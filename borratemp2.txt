@echo off
Rem borratemp.bat
Rem Autor: Marc Liang Perarnau
Rem Fecha: FECHA
Cls

:: Definir las carpetas temporales usando variables de entorno
set "TEMP_USER=%TEMP%"
set "TEMP_WIN=%SystemRoot%\Temp"

:: Contador de archivos eliminados
set "DELETED_FILES=0"

:: Borrar archivos temporales del usuario
rmdir /S /Q %TEMP_USER%


:: Borrar archivos temporales de Windows (requiere permisos de administrador)
for %%F in ("%TEMP_WIN%\*.*") do (
    del /F /Q "%%F" && set /A DELETED_FILES+=1
)

:: Si se han eliminado archivos, devolver ERRORLEVEL 0, si no, devolver ERRORLEVEL 1
if %DELETED_FILES% GTR 0 (
    echo Archivos temporales eliminados correctamente.
    exit /b 0
) else (
    echo No se encontraron archivos para eliminar.
    exit /b 1
)
